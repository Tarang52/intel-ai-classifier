<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>T_Web_AI</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />

  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet" />

  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #f9fafb;
    }

    #preview {
      max-height: 250px;
      display: none;
      border-radius: 0.5rem;
    }

    #result {
      transition: all 0.3s ease;
    }
  </style>
</head>

<body>

  <!-- ===== HEADER ===== -->
  <header class="fixed top-0 left-0 w-full z-50 bg-white shadow">
    <div class="max-w-7xl mx-auto flex items-center justify-between px-4 md:px-16 py-4">
      <div class="flex items-center space-x-2">
        <img src="{{ url_for('static', filename='logoT.jpg') }}" alt="Logo" class="h-16" />
        <h1 class="text-xl font-semibold text-blue-700">T_Web Technologies</h1>
      </div>

      <!-- Mobile Menu -->
      <div class="md:hidden flex items-center gap-2">
        <a href="tel:8401719344" class="bg-yellow-400 px-4 py-2 rounded-md font-semibold text-black text-sm">📞</a>
        <button id="menu-btn" class="text-2xl">☰</button>
      </div>

      <!-- Desktop Menu -->
      <nav class="hidden md:flex gap-6 text-gray-700 font-medium">
        <a href="#about">About Us</a>
        <a href="tel:8401719344" class="bg-yellow-400 text-black px-4 py-2 rounded-md font-semibold text-sm shadow">📞 8401719344</a>
      </nav>
    </div>

    <div id="mobile-menu" class="md:hidden hidden px-4 pb-4 space-y-2 text-gray-700 font-medium">
      <a href="#about" class="block">About Us</a>
    </div>
  </header>

  <script>
    document.getElementById('menu-btn').addEventListener('click', () => {
      document.getElementById('mobile-menu').classList.toggle('hidden');
    });
  </script>

  <!-- ===== HERO / MAIN CONTENT ===== -->
  <section class="min-h-screen flex items-center justify-center bg-white pt-24 pb-20">
    <div class="max-w-4xl w-full mx-4 md:mx-auto px-6 md:px-12 bg-blue-50 p-8 rounded-xl shadow-xl">
      <div class="grid md:grid-cols-2 gap-10 items-center">
        <!-- Left Side -->
        <div>
          <p class="text-gray-600 text-lg mb-2">Welcome to</p>
          <h2 class="text-4xl font-bold text-blue-700 leading-snug mb-4">
            Project: Mechanical Part Classifier 🔧
          </h2>
          <p class="text-gray-700 mb-6">
            Upload an image of a bolt, nut, washer, or locating pin. Let AI tell you what’s what!
          </p>

          <input
            type="file"
            id="upload"
            accept="image/*"
            class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-600 file:text-white hover:file:bg-blue-700 mb-4"
          />

          <button
            onclick="classify()"
            class="bg-yellow-400 hover:bg-yellow-500 text-black px-6 py-3 rounded-full shadow font-semibold text-lg"
          >
            🔍 Predict
          </button>
        </div>

        <!-- Right Side (Image Preview) -->
        <div class="flex justify-center">
          <img id="preview" src="#" alt="Image Preview" />
        </div>
      </div>

      <!-- Result Display -->
      <div id="result" class="mt-10 hidden text-center p-6 bg-white border border-blue-200 rounded-xl shadow-md"></div>
    </div>
  </section>

  <!-- ===== SCRIPT FOR CLASSIFIER ===== -->
  <script>
    let imageFile;

    document.getElementById("upload").addEventListener("change", function (event) {
      imageFile = event.target.files[0];

      const reader = new FileReader();
      reader.onload = function (e) {
        const img = document.getElementById("preview");
        img.src = e.target.result;
        img.style.display = "block";
      };
      reader.readAsDataURL(imageFile);
    });

    async function classify() {
      if (!imageFile) {
        alert("Please upload an image first.");
        return;
      }

      const formData = new FormData();
      formData.append("file", imageFile);

      const resultBox = document.getElementById("result");
      resultBox.classList.remove("hidden");
      resultBox.innerHTML = `<div class="text-blue-600 text-lg font-semibold animate-pulse">🧠 Thinking...</div>`;

      try {
        const response = await fetch("/predict", {
          method: "POST",
          body: formData,
        });

        const result = await response.json();

        resultBox.innerHTML = `
          <h3 class="text-2xl font-bold text-blue-700 mb-2">🔍 Prediction Result</h3>
          <p class="text-lg"><strong>📌 Class:</strong> ${result.class}</p>
          <p class="text-lg"><strong>📈 Confidence:</strong> ${result.confidence}%</p>
        `;
      } catch (error) {
        console.error("Error:", error);
        resultBox.innerHTML = `<p class="text-red-500 font-semibold">❌ Something went wrong! Check if the backend is running.</p>`;
      }
    }
  </script>

  <!-- ===== ABOUT US SECTION ===== -->
  <section id="about" class="py-20 ">
    <div class="max-w-6xl mx-auto px-6 md:px-12 text-center">
      <h2 class="text-4xl md:text-5xl font-bold text-blue-700 mb-6">About Us</h2>
      <p class="text-lg text-gray-700 max-w-3xl mx-auto leading-relaxed">
        At <span class="font-semibold text-blue-600">T_Web Technologies</span>, we believe in blending the power of Artificial Intelligence with real-world industrial applications. 
        Our latest innovation leverages advanced <strong>image processing</strong> and <strong>deep learning</strong> to classify essential mechanical parts like bolts, nuts, washers, and locating pins — straight from a photo.
      </p>

      <p class="mt-6 text-gray-600 max-w-3xl mx-auto">
        Designed with precision for manufacturers, technicians, and engineers, our AI model streamlines the part identification process, reduces manual effort, and speeds up workflows. 
        Whether you're automating an assembly line or simplifying quality checks — our tool is here to assist.
      </p>

      <div class="mt-8">
        <a href="#upload" class="inline-block bg-blue-600 text-white px-6 py-3 rounded-full shadow hover:bg-blue-700 transition">
          🔍 Try the Classifier
        </a>
      </div>
    </div>
  </section>

  <!-- ===== FOOTER ===== -->
  <footer class="bg-black text-white py-6 mt-20">
    <div class="max-w-6xl mx-auto px-6 flex flex-col md:flex-row items-center justify-between">
      <p class="text-center text-sm md:text-base">
        © <span id="year"></span> Built with 🧠 by <span class="font-semibold text-yellow-400">T_Web</span>
      </p>
    </div>
  </footer>

  <script>
    // Auto update year
    document.getElementById("year").textContent = new Date().getFullYear();
  </script>

</body>
</html>
